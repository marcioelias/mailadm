webpackJsonp([2],{10:function(t,e){t.exports=function(t,e,i,s,a,n){var r,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,o=t.default);var d,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId=a),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=d):s&&(d=s),d){var m=c.functional,u=m?c.render:c.beforeCreate;m?(c._injectStyles=d,c.render=function(t,e){return d.call(e),u(t,e)}):c.beforeCreate=u?[].concat(u,d):[d]}return{esModule:r,exports:o,options:c}}},2:function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},43:function(t,e,i){t.exports=i(44)},44:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=i(45),s=i.n(e),a=new Vue({el:"#alias_members_component",components:{alias_members:s.a},data:function(){return{teste:!1}}});t.vm=a}.call(e,i(2))},45:function(t,e,i){var s=i(10)(i(46),i(50),!1,null,null,null);t.exports=s.exports},46:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var s,a=i(11),n=i.n(a),r=i(47),o=i.n(r);function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.default=(l(s={name:"alias_members",components:{modal:o.a,BootstrapToggle:n.a},data:function(){return{editing:!1,editingIndex:!1,items:[],forwarding:!1,itemActive:!0,isModalVisible:!1,deleteIndex:!1,emailsDisponiveis:[],emailsSelecionados:[],errors:{inputEmail:!1,inputEmailMsg:""}}},props:["aliasMembersData","oldData","hasErrors","errorMsg"],watch:{oldData:function(){this.$refs.confirmDelete}},computed:{emailsDisponiveisOrdenados:function(){return this.emailsDisponiveis.sort(function(t,e){return t.username<e.username?-1:t.username>e.username?1:0})}},updated:function(){t(this.$refs.inputEmails).selectpicker("refresh")},mounted:function(){if(this.emailsDisponiveis=this.aliasMembersData,null!==this.oldData)for(var t=0;t<this.oldData.length;t++){var e=!1;this.oldData[t].hasOwnProperty("itemActive")&&(e=this.oldData[t].itemActive),this.oldData[t].hasOwnProperty("active")&&(e=this.oldData[t].active),this.items.push({forwarding:this.oldData[t].forwarding,itemActive:e}),this.incluirEmail(this.oldData[t].forwarding)}}},"updated",function(){t(this.$refs.inputEmails).selectpicker("refresh")}),l(s,"methods",{validarItem:function(){return""==this.forwarding||this.forwarding<=0?(this.errors.inputEmail=!0,this.errors.inputEmailMsg="Nenhum E-mail selecionado.",!1):(this.errors.inputEmail=!1,this.errors.inputEmailMsg="",!0)},confirmDelete:function(t){this.deleteIndex=t},cancelDelete:function(t){this.deleteIndex=!1},addEmail:function(){this.validarItem()&&(this.items.push({forwarding:this.forwarding,itemActive:this.itemActive}),this.incluirEmail(this.forwarding),this.limparFormulario())},editItem:function(t){var e=this.items[t];this.forwarding=e.forwarding,this.itemActive=e.itemActive,this.editing=!0,this.editingIndex=t},updateEmail:function(){this.validarItem()&&(this.items[this.editingIndex]={forwarding:this.forwarding,itemActive:this.itemActive},this.editing=!1,this.editingIndex=!1,this.limparFormulario())},deleteItem:function(){this.removerEmail(this.items[this.deleteIndex].forwarding),this.$delete(this.items,this.deleteIndex)},limparFormulario:function(){this.forwarding=!1,this.itemActive=!0,this.$refs.inputEmails.focus()},getEmailById:function(t){for(var e=0,i=0;i<this.aliasMembersData.length;i++)if(this.aliasMembersData[i].id==t){e=this.aliasMembersData[i];break}return e},getEmailIndexById:function(t){for(var e=0,i=0;i<this.aliasMembersData.length;i++)if(this.aliasMembersData[i].id==t){e=i;break}return e},getEmailSelecionadoById:function(t){for(var e=0,i=0;i<this.emailsSelecionados.length;i++)if(this.emailsSelecionados[i].id==t){e=this.emailsSelecionados[i];break}return e},getEmailSelecionadoIndexById:function(t){for(var e=0,i=0;i<this.emailsSelecionados.length;i++)if(this.emailsSelecionados[i].id==t){e=i;break}return e},incluirEmail:function(t){this.emailsSelecionados.push(this.getEmailById(t)),this.$delete(this.emailsDisponiveis,this.getEmailIndexById(t))},removerEmail:function(t){this.emailsDisponiveis.push(this.getEmailSelecionadoById(t)),this.$delete(this.emailsSelecionados,this.getEmailSelecionadoIndexById(t))}}),s)}.call(e,i(1))},47:function(t,e,i){var s=i(10)(i(48),i(49),!1,null,null,null);t.exports=s.exports},48:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal",methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}},props:["modalTitle","modalText"]}},49:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal-fade"}},[i("div",{staticClass:"modal fade",attrs:{id:"confirmDelete",role:"dialog","aria-labelledby":"confirmDeleteLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content modal-default"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[t._v("×")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-1"},[i("span",{staticClass:"glyphicon glyphicon-alert"})]),t._v(" "),i("div",{staticClass:"col"},[i("h4",{staticClass:"modal-title"},[i("strong",[t._v(t._s(this.modalTitle))])])])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("p",[t._v("\n              "+t._s(this.modalText)+"                  \n            ")])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal",id:"confirm"},on:{click:t.confirm}},[t._v("Remover")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancel}},[t._v("Cancelar")])])])])])])},staticRenderFns:[]}},50:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{col:!0,"has-error":this.hasErrors}},[i("div",{class:{panel:!0,"panel-default":!0,"panel-danger":this.hasErrors}},[i("div",{staticClass:"panel-heading"},[this.hasErrors?i("span",{staticStyle:{color:"white"}},[i("strong",[t._v("Membros")])]):t._e(),t._v(" "),this.hasErrors?t._e():i("span",[i("strong",[t._v("Membros")])])]),t._v(" "),i("div",{staticClass:"panel-body",staticStyle:{padding:"0 !important"}},[i("table",{staticClass:"table table-condensed table-striped table-bordered table-hover",staticStyle:{"margin-bottom":"0 !important"}},[t._m(0),t._v(" "),i("transition-group",{tag:"tbody",attrs:{name:"fade"}},t._l(t.items,function(e,s){return i("tr",{key:s},[i("td",{staticClass:"col-md-9"},[t._v("\n                            "+t._s(e.forwarding)+"\n                            "),i("input",{attrs:{type:"hidden",name:"membros["+s+"][forwarding]"},domProps:{value:e.forwarding}})]),t._v(" "),i("td",{staticClass:"col-md-2"},[t._v("\n                            "+t._s("1"==e.itemActive?"Sim":"Não")+"\n                            "),i("input",{attrs:{type:"hidden",name:"membros["+s+"][itemActive]"},domProps:{value:e.itemActive}})]),t._v(" "),i("td",{staticClass:"col-md-1"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"btn-xs btn-warning",attrs:{type:"button"},on:{click:function(e){t.editItem(s)}}},[i("span",{staticClass:"glyphicon glyphicon-edit"})]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"btn-xs btn-danger",attrs:{type:"button","data-toggle":"modal","data-target":"#confirmDelete"},on:{click:function(e){t.confirmDelete(s)}}},[i("span",{staticClass:"glyphicon glyphicon-trash"})])])])}))])]),t._v(" "),i("div",{staticClass:"panel-footer"},[i("div",{staticClass:"row"},[i("div",{class:{"col-md-9":!0," has-error":this.errors.inputEmail},staticStyle:{"padding-right":"0 !important","padding-left":"0 !important"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.forwarding,expression:"forwarding"}],ref:"inputEmails",staticClass:"form-control selectpicker",attrs:{"data-live-search":"true",name:"inputEmail",id:"inputEmail",disabled:t.editing},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.forwarding=e.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",value:"false"}},[t._v(" Nada Selecionado ")]),t._v(" "),t._l(t.emailsDisponiveisOrdenados,function(e,s){return i("option",{key:s,domProps:{value:e.username}},[t._v(t._s(e.username))])})],2),t._v(" "),i("span",{staticClass:"help-block",attrs:{"v-if":this.errors.inputEmail}},[i("strong",[t._v(t._s(this.errors.inputEmailMsg))])])]),t._v(" "),i("div",{class:{"col-md-2":!0},staticStyle:{"padding-right":"0 !important","padding-left":"0 !important"},attrs:{align:"center"}},[i("bootstrap-toggle",{attrs:{options:{on:"Sim",off:"Não"},disabled:!1},model:{value:t.itemActive,callback:function(e){t.itemActive=e},expression:"itemActive"}})],1),t._v(" "),i("div",{staticClass:"col-md-1"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addEmail}},[i("span",{staticClass:"glyphicon glyphicon-plus"})]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.updateEmail}},[i("span",{staticClass:"glyphicon glyphicon-ok"})])])])]),t._v(" "),i("modal",{attrs:{"modal-title":"Corfirmação","modal-text":"Confirma a remoção deste Item?"},on:{cancel:t.cancelDelete,confirm:t.deleteItem}}),t._v(" "),this.hasErrors?i("span",{staticClass:"help-block",staticStyle:{margin:"5px"}},[i("strong",[t._v(t._s(this.errorMsg))])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticClass:"primary"},[e("th",{staticClass:"col-md-9"},[this._v("E-mail")]),this._v(" "),e("th",{staticClass:"col-md-2"},[this._v("Ativo")]),this._v(" "),e("th",{staticClass:"col-md-2"},[this._v("Ações")])])])}]}}},[43]);